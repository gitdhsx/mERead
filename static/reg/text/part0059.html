<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>学习正则表达式 (图灵程序设计丛书)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre" id="1O8H60-13f7b649a4a84a279903cc97504f6ac8">
<p id="filepos167847" class="calibre1"><span class="calibre8"><span class="bold">6.3 匹配Unicode字符属性</span></span></p>
<p class="calibre1">在某些实现（比如像Perl）中，还可以匹配Unicode的字符属性。这些属性包括字符是否是字母、数字或标点符号。</p>
<p class="calibre1">现在介绍一下ack，这是一个用Perl语言编写的命令行工具，它跟grep功能相似（见<a href="http://betterthangrep.com">http://betterthangrep.com</a>）。系统一般不会附带这个程序，用户需要自己下载并安装。（参见6.6节）。</p>
<p class="calibre1">我们要用ack来处理席勒1785年的作品“An die Freude”的片段（或许你不认识，这是德语）：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">An die Freude.<br class="calibre16"/>Freude, schöner Götterfunken,<br class="calibre16"/>Tochter aus Elisium,<br class="calibre16"/>Wir betreten feuertrunken<br class="calibre16"/>Himmlische, dein Heiligthum.<br class="calibre16"/>Deine Zauber binden wieder,<br class="calibre16"/>was der Mode Schwerd getheilt;<br class="calibre16"/>Bettler werden Fürstenbrüder,<br class="calibre16"/>wo dein sanfter Flügel weilt.<br class="calibre16"/>Seid umschlungen, Millionen!<br class="calibre16"/>Diesen Kuß der ganzen Welt!<br class="calibre16"/>Brüder, überm Sternenzelt<br class="calibre16"/>muß ein lieber Vater wohnen.<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">该片段中有几个有趣的字符，它们不在ASCII的范围内。我们要通过属性来看看这首诗的文本内容。（如果你想知道这段文字的意思，可以将其输入到Google Translate中（<a href="http://translate.google.com">http://translate.google.com</a>）。）</p>
<p class="calibre1">在命令行中使用ack时，你可以指定查看那些属性为字母（L）的字符：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">ack '\pL' schiller.txt<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">该命令会将字母都高亮显示。对于小写字母，则要在括号中使用<tt class="calibre19">Ll</tt>：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">ack '\p{Ll}' schiller.txt<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">括号是必需的。对于大写字母，则是<tt class="calibre19">Lu</tt>：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">ack '\p{Lu}' schiller.txt<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">要指定<span class="bold">不符合</span>某个属性的字符，则使用大写<tt class="calibre19">P</tt>：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">ack '\PL' schiller.txt<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">这个命令会将非字母字符标亮。</p>
<p class="calibre1">下面的正则表达式用于查找非小写字母：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">ack '\P{Ll}' schiller.txt<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">而这个正则表达式则高亮显示非大写字母：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">ack '\P{Lu}' schiller.txt<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">在另外一个基于浏览器的正则表达式测试程序<a href="http://regex.larsolavtorvik.com">http://regex.larsolavtorvik.com</a>中也可以这样做。图6-4展示的是使用小写字母属性（<tt class="calibre19">\p{Ll}</tt>）标亮席勒诗中小写字母的结果。</p>
<p class="calibre21"><img class="calibre40" src="../images/00028.jpeg"/></p>
<p class="calibre1"><span class="bold">图6-4 使用小写字母属性标亮字符</span></p>
<p class="calibre1">表6-2列出了在<tt class="calibre19">\p{property}</tt>或<tt class="calibre19">\P{property}</tt>中使用的字符属性名（参见<a href="http://www.pcre.org/pcre.txt">http://www.pcre.org/pcre.txt</a>中的pcresyntax(3)）。还可以用属性对各种人类语言进行匹配，具体参见表A-8。</p>
<p class="calibre1"><span class="bold">表6-2 字符属性</span></p>
<p class="calibre4"> </p><table class="calibre31" valign="top"><tbody class="calibre32"><tr valign="top" class="calibre33"><th valign="top" class="calibre34"><span class="calibre18"><span class="bold"> 属性 </span></span></th><th valign="top" class="calibre34"><span class="calibre18"><span class="bold"> 描述 </span></span>
</th></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  C  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 其他字符 </span> </td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  Cc  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 控制字符 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  Cf  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 格式字符 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  Cn  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 未分配字符 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  Co  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 专用字符 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  Cs  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 替代字符 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  L  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 字母 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  Ll  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 小写字母 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  Lm  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 修饰字母 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  Lo  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 其他字母 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  Lt  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 标题大写字母 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  Lu  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 大写字母 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  L&amp;  </span></td><td valign="top" class="calibre36"><span class="calibre18">  Ll、Lu或者Lt  </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  M  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 标记符号 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  Mc  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 空格标记 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  Me  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 环绕标记 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  Mn  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 非空格标记 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  N  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 数字 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  Nd  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 十进制数字 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  Nl  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 字母数字 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  No  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 其他数字 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  P  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 标点符号 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  Pc  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 连接标点符 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  Pd  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 破折号 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  Pe  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 结束标点符 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  Pf  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 最终标点符 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  Pi  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 起始标点符 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  Po  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 其他标点符 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  Ps  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 开始标点符 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  S  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 符号 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  Sc  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 货币符号 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  Sk  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 修饰符号 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  Sm  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 数学符号 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  So  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 其他符号 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  Z  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 分隔符 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  Zl  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 行分隔符 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  Zp  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 段落分隔符 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  Zs  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 空格分隔符 </span></td></tr></tbody></table>
<div class="mbppagebreak" id="calibre_pb_59"></div>
</body></html>
