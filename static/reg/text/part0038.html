<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>学习正则表达式 (图灵程序设计丛书)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre" id="147LC0-13f7b649a4a84a279903cc97504f6ac8">
<p id="filepos100536" class="calibre1"><span class="calibre8"><span class="bold">3.3 其他锚位符</span></span></p>
<p class="calibre1">与锚位符<tt class="calibre19">^</tt>相似，以下简写式匹配主题词的起始：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">\A<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">这个写法不是在所有的正则表达式程序中都可以使用的，但可以在Perl和PCRE中使用。要匹配主题词的结尾，可以使用：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">\Z<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">在某些上下文中还可用：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">\z<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">pcregrep是带有PCRE库的grep版本。（如何得到pcregrep请参见3.7节。）安装之后，要使用以上语法，则这样写：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">pcregrep –c '\A\s*(THE|The|the)' rime.txt<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">单词the出现在行首附近位置且之前有（一个或多个）空格的次数为108次，命令<tt class="calibre19">-c</tt>会返回这个次数。接下来输入命令：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">pcregrep –n '(MARINERE|Marinere)(.)?\Z' rime.txt<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">这一命令会匹配一行（主题词）尾部的MARINERE或Marinere，之后是任何可选字符，在本例中可选字符就是标点符号或者字母S。（点号两边的括号不是必需的。）</p>
<p class="calibre1">可以看到输出为：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">1:THE RIME OF THE ANCYENT MARINERE,<br class="calibre16"/>10:     It is an ancyent Marinere,<br class="calibre16"/>38:       The bright-eyed Marinere.<br class="calibre16"/>63:       The bright-eyed Marinere.<br class="calibre16"/>105:     "God save thee, ancyent Marinere!<br class="calibre16"/>282:     "I fear thee, ancyent Marinere!<br class="calibre16"/>702:     He loves to talk with Marineres<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">pcregrep的<tt class="calibre19">-n</tt>选项在输出的每行起始处显示行号。pcregrep与grep的命令行选项十分相似。要了解所有选项，输入：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">pcre --help<br class="calibre16"/></tt></span></blockquote>
<div class="mbppagebreak" id="calibre_pb_38"></div>
</body></html>
