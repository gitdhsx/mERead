<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>学习正则表达式 (图灵程序设计丛书)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre" id="1TVKI0-13f7b649a4a84a279903cc97504f6ac8">
<p id="filepos189538" class="calibre1"><span class="calibre8"><span class="bold">7.2 用*、+和?进行匹配</span></span></p>
<p class="calibre1">如果你在Reggy中输入了前面的数字，现在就可以开始测试了。首先使用Kleene星号，这一命名是为了纪念正则表达式的发明人Stephen Kleene。如果像下面这样在点号之后使用星号：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">.*<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">它将会以贪心的方式匹配主文本中的所有字符（数字）。如前所述，<tt class="calibre19">.*</tt>匹配任何字符零次或多次。下方文本框中的所有数字都会以另一种颜色高亮显示。一本早期手册对Kleene星号的描述如下：</p>
<blockquote class="calibre12">正则表达式后跟一个“*”（Kleene星号）表示该正则表达式所匹配的文本接连出现任意次（包括零次）。</blockquote>
<p class="calibre1">现在试一下：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">9*<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">底部数字9的那一行就会被标亮。现在再试一下：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">9.*<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">这就会将包含数字9的行和下面的包含数字0的行标亮。因为勾选了Multiline选项（在应用程序窗口底部），点号会匹配行之间的换行符；正常情况下，它不会匹配换行符。</p>
<p class="calibre1">要匹配一个或多个9，尝试：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">9+<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">跟前面有什么不同呢？暂时看不出来，因为在主文本中有九个9。主要的区别是<tt class="calibre19">+</tt>会寻找至少一个9，而<tt class="calibre19">*</tt>会寻找零个或多个9。</p>
<p class="calibre1">要匹配零次或一次（可选），可使用：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">9?<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">这只会匹配第一次出现的9。这个数字9是可选的，由于它存在于主文本中，所以它会匹配并被标亮。如果用下面这个表达式：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">99?<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">则第一个9和第二个9都会匹配。</p>
<p class="calibre1">表7-1列出了基本的量词以及它们的一些可能的作用。这些量词默认是<span class="bold">贪心的</span>，这意味它们在第一次尝试时会尽可能多地匹配字符。</p>
<p class="calibre1"><span class="bold">表7-1 基本量词</span></p>
<p class="calibre4"> </p><table class="calibre31" valign="top"><tbody class="calibre32"><tr valign="top" class="calibre33"><th valign="top" class="calibre34"><span class="calibre18"><span class="bold"> 语法 </span></span></th><th valign="top" class="calibre34"><span class="calibre18"><span class="bold"> 描述 </span></span>
</th></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18"> ?  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 零个或一个（可选） </span> </td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18"> +  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 一个或多个 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18">  *  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 零个或多个 </span></td></tr></tbody></table>
<div class="mbppagebreak" id="calibre_pb_65"></div>
</body></html>
