<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>学习正则表达式 (图灵程序设计丛书)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre" id="1VSLM0-13f7b649a4a84a279903cc97504f6ac8">
<p id="filepos196454" class="calibre20"><span class="calibre8"><span class="bold">7.4 懒惰量词</span></span></p>
<p class="calibre1">现在让我们把贪心特性放到一边而来看看懒惰量词。理解懒惰特性最好的方式就是看看实际应用。请在Reggy（确定Match All没有被勾选）中尝试用问号（<tt class="calibre19">?</tt>）匹配零个或者一个5：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">5?<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">第一个5被标亮了。请再加一个<tt class="calibre19">?</tt>来使量词变为懒惰的：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">5??<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">现在它看起来不匹配任何内容了，其原因是该模式已经是懒惰的了。也就是说，它不会强制匹配第一个5。<span class="bold">懒惰</span>的基本特性就是匹配尽可能少的字符——它就是个“懒虫”。</p>
<p class="calibre1">试一下匹配零次或多次的量词：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">5*?<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">它也不会匹配任何内容，因为它可以选择匹配最少的次数——零次。</p>
<p class="calibre1">再试一下匹配一次或多次：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">5+?<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">看到了吧，懒惰特性使其只匹配了一个5。它只需要做到这个程度就可以了。</p>
<p class="calibre1">使用<span class="italic">m</span>和<span class="italic">n</span>方式匹配时就更为有趣了。请尝试：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">5{2,5}?<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">只匹配了两个5，而不像贪心量词那样匹配五个。</p>
<p class="calibre1">表7-3列出了懒惰量词。什么时候懒惰式匹配最实用？如果你想匹配最少而不是最多数目的字符，就可以使用懒惰量词。</p>
<p class="calibre1"><span class="bold">表7-3 懒惰量词</span></p>
<p class="calibre4"> </p><table class="calibre31" valign="top"><tbody class="calibre32"><tr valign="top" class="calibre33"><th valign="top" class="calibre34"><span class="calibre18"><span class="bold"> 语法 </span></span></th><th valign="top" class="calibre34"><span class="calibre18"><span class="bold"> 描述 </span></span>
</th></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18"> ?? </span></td><td valign="top" class="calibre36"><span class="calibre18"> 懒惰匹配零次或一次（可选） </span> </td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18"> +? </span></td><td valign="top" class="calibre36"><span class="calibre18"> 懒惰匹配一次或多次 </span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18"> *?  </span></td><td valign="top" class="calibre36"><span class="calibre18"> 懒惰匹配零次或多次 </span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18"> {</span><span class="calibre18"><span class="italic">n </span></span><span class="calibre18">}?</span></td><td valign="top" class="calibre36"><span class="calibre18"> 懒惰匹配</span><span class="calibre18"><span class="italic">n </span></span><span class="calibre18">次</span></td></tr><tr valign="top" class="calibre35"><td valign="top" class="calibre36"><span class="calibre18"> {</span><span class="calibre18"><span class="italic">n </span></span><span class="calibre18">,}? </span></td><td valign="top" class="calibre36"><span class="calibre18"> 懒惰匹配</span><span class="calibre18"><span class="italic">n </span></span><span class="calibre18">次或多次</span></td></tr><tr valign="top" class="calibre33"><td valign="top" class="calibre36"><span class="calibre18">  {</span><span class="calibre18"><span class="italic">m</span></span><span class="calibre18">,</span><span class="calibre18"><span class="italic">n </span></span><span class="calibre18">}? </span></td><td valign="top" class="calibre36"><span class="calibre18"> 懒惰匹配</span><span class="calibre18"><span class="italic">m</span></span><span class="calibre18">至</span><span class="calibre18"><span class="italic">n </span></span><span class="calibre18">次</span></td></tr></tbody></table>
<div class="mbppagebreak" id="calibre_pb_67"></div>
</body></html>
