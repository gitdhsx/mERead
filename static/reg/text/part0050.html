<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>学习正则表达式 (图灵程序设计丛书)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre" id="1FLS40-13f7b649a4a84a279903cc97504f6ac8">
<p id="filepos144145" class="calibre1"><span class="calibre2"><span class="bold">第5章 字符组</span></span></p>
<p class="calibre1">这一章，我们详细讨论一下字符组。字符组有时也被称为<span class="bold">方括号表达式</span>（bracketed expression）。字符组有助于匹配特定字符或者特定的字符序列。它们可以像字符简写式那样代表一大批字符。比如，<tt class="calibre19">\d</tt>匹配的字符与</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">[0-9]<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">所匹配的字符一样。</p>
<p class="calibre1">但字符组更有针对性，因此用途比简写式更广。</p>
<p class="calibre1">请在自己使用的正则表达式处理器中尝试以下示例。笔者在Opera中使用Rubular，而在桌面使用Reggy。</p>
<p class="calibre1">要做这个试验，请在网页的主文本区或者目标区域输入以下字符串：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">! " # $ % &amp; ' ( ) * + , - . /<br class="calibre16"/>0       1       2       3       4       5       6       7       8       9<br class="calibre16"/>: ; &lt; = &gt; ? @<br class="calibre16"/>A B C D E F G H I J K L M N O P Q R S T U V W X Y Z<br class="calibre16"/>[ \ ] ^ _ `<br class="calibre16"/>a b c d e f g h i j k l m n o p q r s t u v w x y z<br class="calibre16"/>{ | } ~<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">没有必要亲自动手输入这些字符，在本书配套代码库中的ascii-graphic.txt里能找到该文本。</p>
<p class="calibre1">请先使用字符组来匹配一个英文字符集。本例中，我们匹配英文元音字母：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">[aeiou]<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">在下方文本框中，小写的元音字母应该被标亮了（见图5-1）。如何将大写元音字母标亮？如何同时匹配或标亮小写和大写元音字母？</p>
<p class="calibre21"><img class="calibre44" src="../images/00019.jpeg"/></p>
<p class="calibre1"><span class="bold">图5-1 在Opera浏览器中使用Rubular的字符组功能</span></p>
<p class="calibre1">还可以使用字符组匹配某个范围的字符，比如</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19"> [a-z]<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">匹配的是从a到z的小写字母。试一下匹配更小范围的字符，比如从a到f：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">[a-f]<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">当然你还可以指定一个范围的数字：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">[0-9]<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">或者让范围更小：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">[3-6]<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">现在发挥一下想象力，如果你想匹配10~19的偶数，可以将两个字符组合起来写，像这样：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">\b[1][24680]\b<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">同理，也能想到用下面的表达式查找0~99的偶数：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">\b[24680]\b|\b[1-9][24680]\b<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">要想创建一个匹配十六进制数的字符组怎么做呢？这里给出一个提示：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">[a-fA-F0-9]<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">还可以在字符组内使用简写式。例如，要匹配空格和单词字符，可以创建这样一个字符组：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">[\w\s]<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">它等同于：</p>
<blockquote class="calibre12"><span class="calibre18"><tt class="calibre19">[_a-zA-Z \t\n\r]<br class="calibre16"/></tt></span></blockquote>
<p class="calibre20">但是更容易键入。</p>
<div class="mbppagebreak" id="calibre_pb_50"></div>
</body></html>
